<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Login - AI Daily News</title>
<style>
body{font-family:Arial, sans-serif; background:#f0f0f0; display:flex; align-items:center; justify-content:center; height:100vh; }
.login-box{background:white; padding:30px; border-radius:10px; box-shadow:0 10px 20px rgba(0,0,0,0.1); width:300px;}
.login-box h2{text-align:center;margin-bottom:20px;}
.login-box input{width:100%; padding:10px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc;}
.login-box button{width:100%; padding:10px; border:none; background:#2c3e50; color:white; font-weight:bold; border-radius:5px; cursor:pointer;}
.login-box button:hover{background:#34495e;}
.error{color:red; margin-bottom:10px;}
</style>
</head>
<body>
<div class="login-box">
<h2>Login</h2>
<div class="error" id="error"></div>
<input type="text" id="username" placeholder="Username">
<input type="password" id="password" placeholder="Password">
<button onclick="login()">Login</button>
</div>

<script>
async function login(){
    const user = document.getElementById('username').value;
    const pass = document.getElementById('password').value;
    if(!user || !pass){document.getElementById('error').textContent="Fill all fields"; return;}
    
    // Send login request to server
    try{
        const res = await fetch('/login',{
            method:'POST',
            headers:{'Content-Type':'application/json'},
            body:JSON.stringify({username:user,password:pass})
        });
        const data = await res.json();
        if(data.success){
            localStorage.setItem('loggedInUser', user);
            window.location.href='index.html';
        }else{
            document.getElementById('error').textContent=data.message;
        }
    }catch(err){document.getElementById('error').textContent="Server error";}
}
</script>
</body>
</html>
